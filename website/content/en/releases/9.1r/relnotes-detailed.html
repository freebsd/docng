<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 9.1-RELEASE Release Notes</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body class="article" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="title"><a id="AEN2" name="AEN2">FreeBSD 9.1-RELEASE Release Notes</a></h1>

<h3 class="corpauthor">The FreeBSD Project</h3>

<p class="copyright">Copyright &copy; 2012 The FreeBSD Documentation Project</p>

<p class="pubdate">$FreeBSD: stable/9/release/doc/en_US.ISO8859-1/relnotes/article.xml
244869 2012-12-30 17:54:25Z hrs $<br />
</p>

<div class="legalnotice"><a id="trademarks" name="trademarks"></a>
<p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p>

<p>IBM, AIX, EtherJet, Netfinity, OS/2, PowerPC, PS/2, S/390, and ThinkPad are trademarks
of International Business Machines Corporation in the United States, other countries, or
both.</p>

<p>IEEE, POSIX, and 802 are registered trademarks of Institute of Electrical and
Electronics Engineers, Inc. in the United States.</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or
registered trademarks of Intel Corporation or its subsidiaries in the United States and
other countries.</p>

<p>SPARC, SPARC64, SPARCengine, and UltraSPARC are trademarks of SPARC International, Inc
in the United States and other countries. SPARC International, Inc owns all of the SPARC
trademarks and under licensing agreements allows the proper use of these trademarks by
its members.</p>

<p>Many of the designations used by manufacturers and sellers to distinguish their
products are claimed as trademarks. Where those designations appear in this document, and
the FreeBSD Project was aware of the trademark claim, the designations have been followed
by the &#8220;&#8482;&#8221; or the &#8220;®&#8221; symbol.</p>
</div>

<div>
<div class="abstract"><a id="AEN18" name="AEN18"></a>
<p>The release notes for FreeBSD 9.1-RELEASE contain a summary &#09;of the changes made
to the FreeBSD base system on the &#09;9.1-STABLE development line. &#09;This document
lists applicable security advisories that were issued since &#09;the last release, as
well as significant changes to the FreeBSD &#09;kernel and userland. &#09;Some brief
remarks on upgrading are also presented.</p>
</div>
</div>

<hr />
</div>

<div class="TOC">
<dl>
<dt><b>Table of Contents</b></dt>

<dt>1 <a href="#intro">Introduction</a></dt>

<dt>2 <a href="#new">What's New</a></dt>

<dd>
<dl>
<dt>2.1 <a href="#security">Security Advisories</a></dt>

<dt>2.2 <a href="#kernel">Kernel Changes</a></dt>

<dd>
<dl>
<dt>2.2.1 <a href="#boot">Boot Loader Changes</a></dt>

<dt>2.2.2 <a href="#proc">Hardware Support</a></dt>

<dt>2.2.3 <a href="#net-proto">Network Protocols</a></dt>

<dt>2.2.4 <a href="#disks">Disks and Storage</a></dt>

<dt>2.2.5 <a href="#fs">File Systems</a></dt>
</dl>
</dd>

<dt>2.3 <a href="#userland">Userland Changes</a></dt>

<dd>
<dl>
<dt>2.3.1 <a href="#periodic-scripts"><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry">periodic(8)</span></a> Scripts</a></dt>

<dt>2.3.2 <a href="#rc-scripts"><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry">rc(8)</span></a> Scripts</a></dt>
</dl>
</dd>

<dt>2.4 <a href="#contrib">Contributed Software</a></dt>

<dt>2.5 <a href="#releng">Release Engineering and Integration</a></dt>
</dl>
</dd>

<dt>3 <a href="#upgrade">Upgrading from previous releases of FreeBSD</a></dt>

<dd>
<dl>
<dt>3.1 <a href="#AEN1113">Upgrading using <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry">freebsd-update(8)</span></a> or a source-based
&#09;procedure</a></dt>

<dt>3.2 <a href="#AEN1133">User-visible incompatibilities</a></dt>
</dl>
</dd>
</dl>
</div>

<div class="sect1">
<h2 class="sect1"><a id="intro" name="intro">1 Introduction</a></h2>

<p>This document contains the release notes for FreeBSD 9.1-RELEASE. It describes
recently added, changed, or deleted features of FreeBSD. It also provides some notes on
upgrading from previous versions of FreeBSD.</p>

<p>This distribution of FreeBSD 9.1-RELEASE is a release distribution. It can be found at
<a href="http://www.FreeBSD.org/releases/"
target="_top">http://www.FreeBSD.org/releases/</a> or any of its mirrors. More
information on obtaining this (or other) release distributions of FreeBSD can be found in
the <a href="../../../../doc/en_US.ISO8859-1/books/handbook/mirrors.html"
target="_top">&#8220;Obtaining FreeBSD&#8221; appendix</a> to the <a
href="../../../../doc/en_US.ISO8859-1/books/handbook/" target="_top">FreeBSD
Handbook</a>.</p>

<p>All users are encouraged to consult the release errata before installing FreeBSD. The
errata document is updated with &#8220;late-breaking&#8221; information discovered late
in the release cycle or after the release. Typically, it contains information on known
bugs, security advisories, and corrections to documentation. An up-to-date copy of the
errata for FreeBSD 9.1-RELEASE can be found on the FreeBSD Web site.</p>
</div>

<div class="sect1">
<hr />
<h2 class="sect1"><a id="new" name="new">2 What's New</a></h2>

<p>This section describes the most user-visible new or changed features in FreeBSD since
9.0-RELEASE.</p>

<p>Typical release note items document recent security advisories issued after
9.0-RELEASE, new drivers or hardware support, new commands or options, major bug fixes,
or contributed software upgrades. They may also list changes to major ports/packages or
release engineering practices. Clearly the release notes cannot list every single change
made to FreeBSD between releases; this document focuses primarily on security advisories,
user-visible changes, and major architectural improvements.</p>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="security" name="security">2.1 Security Advisories</a></h3>

<p>Problems described in the following security advisories have &#09;been fixed. For more
information, consult the individual &#09;advisories available from &#09;<a
href="http://security.FreeBSD.org/" target="_top">http://security.FreeBSD.org/</a>.</p>

<div class="informaltable"><a id="AEN38" name="AEN38"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col width="20%" />
<col width="20%" />
<col width="60%" />
<thead>
<tr>
<th>Advisory</th>
<th>Date</th>
<th>Topic</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:01.openssl.asc"
target="_top">SA-12:01.openssl</a></td>
<td>3 May 2012</td>
<td>
<p>OpenSSL multiple vulnerabilities</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:02.crypt.asc"
target="_top">SA-12:02.crypt</a></td>
<td>30 May 2012</td>
<td>
<p>Incorrect <code class="function">crypt()</code> hashing</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:03.bind.asc"
target="_top">SA-12:03.bind</a></td>
<td>12 June 2012</td>
<td>
<p>Incorrect handling of zero-length RDATA fields in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=named&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a></p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:04.sysret.asc"
target="_top">SA-12:04.sysret</a></td>
<td>12 June 2012</td>
<td>
<p>Privilege escalation when returning from kernel</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:05.bind.asc"
target="_top">SA-12:05.bind</a></td>
<td>6 August 2012</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=named&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> DNSSEC
validation Denial of Service</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:06.bind.asc"
target="_top">SA-12:06.bind</a></td>
<td>22 November 2012</td>
<td>
<p>Multiple Denial of Service vulnerabilities with <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=named&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a></p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:07.hostapd.asc"
target="_top">SA-12:07.hostapd</a></td>
<td>22 November 2012</td>
<td>
<p>Insufficient message length validation for EAP-TLS messages</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-12:08.linux.asc"
target="_top">SA-12:08.linux</a></td>
<td>22 November 2012</td>
<td>
<p>Linux compatibility layer input validation error</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="kernel" name="kernel">2.2 Kernel Changes</a></h3>

<p>The FreeBSD Jail subsystem now supports &#09;mounting <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=nullfs&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">nullfs</span>(5)</span></a>, and
ZFS filesystem &#09;inside a jail. New <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">jail</span>(8)</span></a>
parameters &#09;<code class="varname">allow.mount.devfs</code>, &#09;<code
class="varname">allow.mount.nullfs</code>, and &#09;<code
class="varname">allow.mount.zfs</code> to control the per-jail &#09;capabilities have
been added. All of them are disabled by &#09;default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232728"
target="_top">r232728</a>]</p>

<p>A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
tunable &#09;<code class="varname">kern.eventtimer.activetick</code> has been added.
&#09;This tunable specifies whether each hardclock tick should &#09;be run on every
active CPU or only one. By setting it to &#09;<tt class="literal">0</tt>, the total
number of interrupts can be reduced &#09;on SMP machines. The default value is &#09;<tt
class="literal">1</tt>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234167"
target="_top">r234167</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=posix_fadvise&sektion=2&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">posix_fadvise</span>(2)</span></a>
system call &#09;has been implemented. This is a function similar to &#09;<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=madvise&sektion=2&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">madvise</span>(2)</span></a>
except that it operates on a file descriptor &#09;instead of a memory region.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229723"
target="_top">r229723</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=filemon&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">filemon</span>(4)</span></a>
pseudo-device has &#09;been added. This allows a process to collect file operations
&#09;data of its children.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237795"
target="_top">r237795</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09;<code class="varname">kern.stop_scheduler_on_panic</code> is now set to
&#09;<tt class="literal">1</tt> by default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235413"
target="_top">r235413</a>]</p>

<p>[powerpc] FreeBSD/powerpc64 now &#09;supports kernel profiling by using <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kgmon&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">kgmon</span>(8)</span></a>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231907"
target="_top">r231907</a>]</p>

<p>The FreeBSD Linux ABI compatibility layer &#09;now supports the <code
class="function">linux_fadvise64()</code> and &#09;<code
class="function">linux_fadvise64_64()</code> system calls.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231145"
target="_top">r231145</a>]</p>

<p>The default value of the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
&#09;tunable <code class="varname">hw.memtest.tests</code> is now &#09;automatically set
to <tt class="literal">0</tt> when FreeBSD is running &#09;on a virtual machine.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230266"
target="_top">r230266</a>]</p>

<p>A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
tunable &#09;<code class="varname">kern.msgbuf_show_timestamp</code> has been added.
&#09;When it is enabled, a timestamp is added to each line of the &#09;system message
buffer. The default value is &#09;<tt class="literal">0</tt> (disabled).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234075"
target="_top">r234075</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=null&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">null</span>(4)</span></a> and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=zero&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">zero</span>(4)</span></a> pseudo
&#09;device driver now supports non-blocking mode via the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fcntl&sektion=2&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a>
&#09;system call.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230320"
target="_top">r230320</a>]</p>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sched_ule&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sched_ule</span>(4)</span></a>
scheduler has &#09;been improved for CPU load balancing on SMT (Simultaneous
&#09;MultiThreading) CPUs. It gives a 10-15% performance improvement &#09;when the number
of threads is lesser than the number of &#09;logical CPUs.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233599"
target="_top">r233599</a>]</p>

<p>[sparc64] The <tt class="literal">PREEMPTION</tt> kernel option is &#09;now enabled in
the <tt class="filename">GENERIC</tt> kernel.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235992"
target="_top">r235992</a>]</p>

<p>A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09;<code class="varname">security.bsd.unprivileged_idprio</code> has been
&#09;added. This variable controls whether non-root users can set &#09;an idle priority
or not. This is disabled by default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230039"
target="_top">r230039</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=splash&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">splash</span>(4)</span></a> screen
interface now &#09;supports ASCII art in <b class="application">TheDraw</b>
&#09;format.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=228445"
target="_top">r228445</a>]</p>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="boot" name="boot">2.2.1 Boot Loader Changes</a></h4>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>
utility now &#09; supports configuration of PXE boot via the &#09; <tt
class="filename">boot0</tt> boot block temporarily on the &#09; next boot. The slice
number <tt class="literal">6</tt> or a &#09; keyword <tt class="literal">PXE</tt> can be
specified to enable &#09; PXE boot using the <code class="option">-s</code> option.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230065"
target="_top">r230065</a>]</p>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=boot&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">boot</span>(8)</span></a> block
now &#09; supports <tt class="filename">/boot/config</tt> in addition to &#09; <tt
class="filename">/boot.config</tt> as the boot block &#09; parameter file. When both of
them exist, the former will be &#09; used.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231287"
target="_top">r231287</a>]</p>

<p>The <tt class="filename">gptboot</tt> boot &#09; block now reads the backup GPT header
from the last LBA only &#09; when the primary GPT header and tables are invalid. This
&#09; mitigates interoperability issues with some <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> &#09;
providers like <tt class="literal">MIRROR</tt> which use the last &#09; LBA for the
metadata.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234693"
target="_top">r234693</a>]</p>

<p>The <tt class="filename">zfsboot</tt> boot &#09; block and <tt
class="filename">zfsloader</tt> support &#09; filesystems within a ZFS storage pool. In
&#09; <tt class="filename">zfsloader</tt>, the ZFS device name format is now &#09; <tt
class="literal">zfs:<tt class="replaceable"><i>pool</i></tt>/<tt
class="replaceable"><i>fs</i></tt></tt> &#09; and the fully qualified file path format is
&#09; <tt class="literal">zfs:<tt class="replaceable"><i>pool</i></tt>/<tt
class="replaceable"><i>fs</i></tt>:/<tt
class="replaceable"><i>path/to/file</i></tt></tt>. &#09; The <tt
class="filename">zfsboot</tt> boot block accepts the &#09; kernel/loader name in the
format &#09; <tt class="literal"><tt class="replaceable"><i>pool</i></tt>:<tt
class="replaceable"><i>fs</i></tt>:<tt class="replaceable"><i>path/to/file</i></tt></tt>
&#09; or, as before, &#09; <tt class="literal"><tt
class="replaceable"><i>pool</i></tt>:<tt
class="replaceable"><i>path/to/file</i></tt></tt>. &#09; In the latter case a default
filesystem is used (the pool &#09; root or a filesystem with the <tt
class="literal">bootfs</tt> property). The &#09; <tt class="filename">zfsboot</tt> boot
block passes &#09; the GUIDs of the selected &#09; storage pool and dataset to <tt
class="filename">zfsloader</tt> &#09; to be used as its defaults.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237766"
target="_top">r237766</a>]</p>

<p>[sparc64] FreeBSD/sparc64 now &#09; supports booting from ZFS via the <tt
class="filename">zfsboot</tt> boot block and &#09; <tt class="filename">zfsloader</tt>.
For example, the following commands create a &#09; mirrored storage pool <tt
class="literal">rpool</tt> consisting of &#09; <tt class="literal">da0a</tt> and <tt
class="literal">da0b</tt> and &#09; configure the storage pool as the root filesystem:[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236076"
target="_top">r236076</a>]</p>

<pre class="screen">
<samp class="prompt">#</samp> gpart create -s vtoc8 da0
<samp class="prompt">#</samp> gpart add -t freebsd-zfs -s 10g da0
<samp class="prompt">#</samp> gpart add -t freebsd-swap -s 10g da0
<samp class="prompt">#</samp> gpart add -t freebsd-zfs -s 10g da0
<samp class="prompt">#</samp> zpool create rpool mirror da0a da0b
<samp class="prompt">#</samp> zpool set bootfs=rpool rpool
<samp class="prompt">#</samp> zpool export rpool
<samp class="prompt">#</samp> gpart bootcode -p /boot/zfsboot da0
<samp class="prompt">#</samp> sysctl kern.geom.debugflags=0x10
<samp
class="prompt">#</samp> dd if=/boot/zfsloader of=/dev/da0a bs=512 oseek=1024 conv=notrunc
<samp
class="prompt">#</samp> dd if=/boot/zfsloader of=/dev/da0b bs=512 oseek=1024 conv=notrunc
<samp class="prompt">#</samp> zpool import rpool
<samp class="prompt">#</samp> cp -p /boot/zfs/zpool.cache /rpool/boot/zfs/zpool.cache
<samp class="prompt">#</samp> zfs set mountpoint=/ rpool
</pre>
</div>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="proc" name="proc">2.2.2 Hardware Support</a></h4>

<p>[powerpc] The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=abtn&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">abtn</span>(4)</span></a> &#09;
driver, which supports ADB keyboards found on Apple laptops, &#09; has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230751"
target="_top">r230751</a>]</p>

<p>[amd64] A workaround for Erratum &#09; 721 for AMD Processor Family 10h and 12h has
been &#09; implemented. Under a highly specific and detailed set of &#09; internal timing
conditions, the processor may incorrectly &#09; update the stack pointer after a long
series of push and/or &#09; near-call instructions, or a long series of pop and/or &#09;
near-return instructions.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233798"
target="_top">r233798</a>]</p>

<p>[powerpc] The atibl(4) driver, &#09; which supports backlight control of ATI graphics
chips on &#09; PowerBooks and iBooks, has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232677"
target="_top">r232677</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi_wmi&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">acpi_wmi</span>(4)</span></a>
driver now &#09; supports attaching multiple instances.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229858"
target="_top">r229858</a>]</p>

<p>[powerpc] The adm1030(4) driver &#09; for G4 MDD fans now shows its PWM parameter in
the device's &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230290"
target="_top">r230290</a>]</p>

<p>[arm] The cesa(4) driver for the &#09; Marvell crypto engine and security accelerator
has been &#09; added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234559"
target="_top">r234559</a>]</p>

<p>[powerpc] The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hwpmc</span>(4)</span></a> &#09;
driver now supports PowerPC G4+ (MPC745x/MPC744x).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230305"
target="_top">r230305</a>]</p>

<p>[amd64, i386] The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hwpmc</span>(4)</span></a> &#09;
driver now supports the Intel Sandy Bridge &#09; microarchitecture.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234046"
target="_top">r234046</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hwpmc</span>(4)</span></a> driver
now supports &#09; software events. Simultaneous usage of software PMC and &#09; hardware
PMC is allowed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236238"
target="_top">r236238</a>]</p>

<p>The pcf8563(4) driver for the NXP &#09; (Philips) PCF8563 RTC has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236078"
target="_top">r236078</a>]</p>

<p>[powerpc] FreeBSD/powerpc now &#09; supports the PWM-controlled fans found on the
PowerMac SMU (System &#09; Management Unit).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233471"
target="_top">r233471</a>]</p>

<p>[arm] FreeBSD/arm now supports the Atmel &#09; SAM9XE family of microcontrollers.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236081"
target="_top">r236081</a>]</p>

<p>The following <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> &#09;
variables have been added: <code class="varname">kern.proc.env</code> &#09; for
environment strings, <code class="varname">kern.proc.auxv</code> &#09; for ELF auxiliary
vectors from a process's stack, &#09; <code class="varname">kern.proc.groups</code> for
process groups, &#09; <code class="varname">kern.proc.rlimit</code> for process resource
&#09; limits, <code class="varname">kern.proc.ps_strings</code> for the &#09; ps_strings
location, and <code class="varname">kern.proc.osrel</code> for &#09; the osreldate of the
process's binary.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230754"
target="_top">r230754</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233950"
target="_top">r233950</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=usb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">usb</span>(4)</span></a> driver
now &#09; handles suspend and resume correctly with no need to reload &#09; the kernel
module.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229100"
target="_top">r229100</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229369"
target="_top">r229369</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xhci&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">xhci</span>(4)</span></a> (USB
3.0) &#09; driver has been fixed. It did not work with USB 3.0 &#09; hubs.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230302"
target="_top">r230302</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=viawd&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">viawd</span>(4)</span></a> driver,
which &#09; supports the watchdog timer found in VIA south bridges (VT8251, &#09; CX700,
VX800, VX855, VX900), has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229927"
target="_top">r229927</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wbwd&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">wbwd</span>(4)</span></a> driver,
which &#09; supports the watchdog timer found in Winbond Super I/O chips, &#09; has been
added.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235926"
target="_top">r235926</a>]</p>

<div class="sect4">
<hr />
<h5 class="sect4"><a id="mm" name="mm">2.2.2.1 Multimedia Support</a></h5>

<p>The drm2(4) Intel GPU driver, &#09; which supports GEM and KMS and works with new
generations of &#09; GPUs such as IronLake, SandyBridge, and IvyBridge, has been &#09;
added. The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=agp&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">agp</span>(4)</span></a> driver
now supports SandyBridge &#09; and IvyBridge CPU northbridges.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236926"
target="_top">r236926</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236927"
target="_top">r236927</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=239965"
target="_top">r239965</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snd_hda&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">snd_hda</span>(4)</span></a>
driver has been &#09; updated. It now supports and provides HDMI, new volume control,
&#09; automatic recording source selection, runtime &#09; reconfiguration, more then 4
PCM devices on a controller, &#09; multichannel recording, additional playback/record
&#09; streams, higher bandwidth, and more informative device &#09; names.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232798"
target="_top">r232798</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snd_hdspe&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">snd_hdspe</span>(4)</span></a>
driver has &#09; been added. This supports RME HDSPe AIO and RayDAT sound &#09; cards.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233165"
target="_top">r233165</a>]</p>

<p>GPL-licensed &#09; headers in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snd_emu10kx&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">snd_emu10kx</span>(4)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snd_maestro3&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">snd_maestro3</span>(4)</span></a>,
&#09; and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snd_csa&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">snd_csa</span>(4)</span></a>
drivers have been replaced with &#09; BSD-licensed one. These drivers are now fully &#09;
BSD-licensed and included in the <tt class="filename">GENERIC</tt> &#09; kernel on
FreeBSD/amd64 and FreeBSD/i386.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230964"
target="_top">r230964</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230985"
target="_top">r230985</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231047"
target="_top">r231047</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235769"
target="_top">r235769</a>]</p>
</div>

<div class="sect4">
<hr />
<h5 class="sect4"><a id="net-if" name="net-if">2.2.2.2 Network Interface Support</a></h5>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ae&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">ae</span>(4)</span></a> driver which
could &#09; prevent it from working under certain conditions has been &#09; fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229520"
target="_top">r229520</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=axe&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">axe</span>(4)</span></a> driver
now supports &#09; TX/RX checksum offloading support for the ASIX AX88772B &#09;
controller.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229106"
target="_top">r229106</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bce&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">bce</span>(4)</span></a> driver
has been improved:</p>

<ul>
<li>
<p>Unnecessary link up/down has &#09;&#09;been eliminated.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229864"
target="_top">r229864</a>]</p>
</li>

<li>
<p>A bug has been fixed which could &#09;&#09;prevent IPMI from working when the
interface was &#09;&#09;marked as down.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236216"
target="_top">r236216</a>]</p>
</li>

<li>
<p>It now supports remote PHYs, &#09;&#09;which allow the controller to perform MDIO type
accesses &#09;&#09;to a remote transceiver by using message pages defined
&#09;&#09;through MRBE (MultiRate Backplane Ethernet). This is &#09;&#09;found on
machines such as the Dell PowerEdge M610 &#09;&#09;Blade.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235818"
target="_top">r235818</a>]</p>
</li>
</ul>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bge&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">bge</span>(4)</span></a> and
brgphy(4) drivers have been &#09; improved:</p>

<ul>
<li>
<p>A bug which could prevent &#09;&#09;DMA functionality from working correctly has been
&#09;&#09;fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229350"
target="_top">r229350</a>]</p>
</li>

<li>
<p>It now works with a PCI-X BCM 5704 &#09;&#09;controller that is connected to AMD-8131
PCI-X bridge.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233495"
target="_top">r233495</a>]</p>
</li>

<li>
<p>It now supports &#09;&#09;the BCM 5720 and BCM 5720C PHY, and the BCM 57780 1000BASE-T
&#09;&#09;media interface.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229357"
target="_top">r229357</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229867"
target="_top">r229867</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232134"
target="_top">r232134</a>]</p>
</li>

<li>
<p>It now supports a <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
&#09;&#09;tunable &#09;&#09;<code class="varname">dev.bge.<tt
class="replaceable"><i>N</i></tt>.msi</code> &#09;&#09;to control the use of MSI. The
default value is &#09;&#09;<tt class="literal">1</tt> (enabled).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231734"
target="_top">r231734</a>]</p>
</li>
</ul>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cxgbe</span>(4)</span></a> and
&#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cxgb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cxgb</span>(4)</span></a> drivers
have been updated to firmware version &#09; 1.5.2.0. They now support device
configuration via a &#09; plain text configuration file, IPv6 hardware checksumming,
&#09; IPv6 TSO and LRO, a <tt class="literal">loadfw</tt> command in the &#09;
cxgbetool(8) utility which allows installing a firmware to &#09; the card, and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variables under &#09; <code class="varname">dev.t4nex.<tt
class="replaceable"><i>N</i></tt>.misc</code> &#09; for various information.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231093"
target="_top">r231093</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237925"
target="_top">r237925</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dc&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">dc</span>(4)</span></a> driver now
supports &#09; NVIDIA (ULi) M5261/M5263 PCI FastEthernet controllers, which &#09; are
found on the ULi M1563 South Bridge and M1689 Bridge.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229334"
target="_top">r229334</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=et&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">et</span>(4)</span></a> driver &#09;
now works on all platforms. A bug which could prevent &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">altq</span>(4)</span></a> support
from working has been fixed. A new &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable under &#09; <code class="varname">dev.et.<tt
class="replaceable"><i>N</i></tt>.stats</code> &#09; has been added for hardware MAC
statistics.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229711"
target="_top">r229711</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229717"
target="_top">r229717</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229720"
target="_top">r229720</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=igb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">igb</span>(4)</span></a> driver
has been &#09; updated to version 2.3.4. It now supports newer i210/i211 &#09;
devices.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=238262"
target="_top">r238262</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=iwn&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">iwn</span>(4)</span></a> driver
now &#09; supports Intel Centrino Wireless-N + WiMAX 6150 and &#09; Wireless-N 100/130
series.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233838"
target="_top">r233838</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235843"
target="_top">r235843</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a> bus
driver now &#09; supports device hints &#09; <code class="varname">hint.miibus.<tt
class="replaceable"><i>N</i></tt>.phymask</code> &#09; for PHY addresses being probed.
This is useful to manually &#09; probe PHYs which do not implement basic the register set
of &#09; IEEE 802.3. Also, the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a> driver
has been &#09; changed to a hinted bus, allowing to add child devices via &#09; hints and
to set their attach arguments in addition to &#09; automatically-probed PHYs.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230709"
target="_top">r230709</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=msk&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">msk</span>(4)</span></a> driver
now uses 64-bit &#09; DMA addressing on 64-bit platforms.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229524"
target="_top">r229524</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mxge&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mxge</span>(4)</span></a> driver
has been &#09; updated to firmware version 1.4.55 from Myricom.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236413"
target="_top">r236413</a>]</p>

<p>The nsphyter(4) driver now supports &#09; National DP83849.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232137"
target="_top">r232137</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=oce&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">oce</span>(4)</span></a> driver,
which &#09; supports Emulex OneConnect 10Gbit Ethernet cards, has been &#09; added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231663"
target="_top">r231663</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ral&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ral</span>(4)</span></a> driver
now supports &#09; Ralink RT2800 and RT3000 chipsets.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236004"
target="_top">r236004</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=re&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">re</span>(4)</span></a> driver now
&#09; supports the RTL8411 PCIe Gigabit Ethernet controller. A bug &#09; which could
prevent WoL (Wake-on-LAN) from working on &#09; RTL8168E has been fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229529"
target="_top">r229529</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231731"
target="_top">r231731</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=runfw&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">runfw</span>(4)</span></a>
firmware has been &#09; updated to version 0.236.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234028"
target="_top">r234028</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sfxge&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sfxge</span>(4)</span></a> driver,
which &#09; supports 10Gb Ethernet adapters based on Solarflare SFC9000 &#09; family
controllers, has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=228100"
target="_top">r228100</a>]</p>

<p>The smcphy(4) driver now supports the &#09; Seeq Technology 80220 PHY. This is found
on Adaptec &#09; AIC-6915 Starfire Ethernet controllers supported by the &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sf&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">sf</span>(4)</span></a> driver.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233485"
target="_top">r233485</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ti&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">ti</span>(4)</span></a> driver now
&#09; supports the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">altq</span>(4)</span></a>
framework, reporting link-state &#09; changes, and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variables under &#09; <code class="varname">dev.ti.<tt
class="replaceable"><i>N</i></tt></code> for &#09; interrupt moderation parameters.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229417"
target="_top">r229417</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229438"
target="_top">r229438</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ti&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">ti</span>(4)</span></a> driver which
could &#09; prevent it from working correctly with the <tt class="literal">PAE</tt> &#09;
kernel option has been fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229441"
target="_top">r229441</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=vge&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">vge</span>(4)</span></a> driver
has been &#09; updated to improve its link establishment and link-state &#09;
detection.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229540"
target="_top">r229540</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=vr&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">vr</span>(4)</span></a> driver now
enables &#09; flow control capability in the PHY drivers.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229641"
target="_top">r229641</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xnb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">xnb</span>(4)</span></a> Xen
Paravirtualized &#09; Backend Ethernet Driver (netback) has been updated. This is &#09;
attached via the newbus framework and works properly in both &#09; HVM and PVM mode.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231697"
target="_top">r231697</a>]</p>
</div>
</div>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="net-proto" name="net-proto">2.2.3 Network Protocols</a></h4>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=if_bridge&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">if_bridge</span>(4)</span></a>
pseudo-interface &#09; now supports reporting link-state changes depending on the status
&#09; of the member interfaces.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236051"
target="_top">r236051</a>]</p>

<p>The <tt class="literal">table</tt> argument &#09; in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ipfw</span>(4)</span></a> packet
filter rule syntax now supports &#09; IP address, interface name, port number, and jail
ID. The &#09; following syntax is valid:[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234597"
target="_top">r234597</a>]</p>

<pre class="programlisting">
skipto tablearg ip from any to any via table(42) in
</pre>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ip6&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ip6</span>(4)</span></a> protocol
stack has been improved in terms &#09; of its performance. Benchmarking can be found at
<a href="http://people.freebsd.org/~bz/bench/"
target="_top">http://people.freebsd.org/~bz/bench/</a>.</p>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ip6&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ip6</span>(4)</span></a> protocol
stack now &#09; supports multiple FIBs.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232292"
target="_top">r232292</a>]</p>

<p>An IPv6 default route configured via &#09; Router Advertisement messages is now
reinstalled correctly &#09; when the default route is manually removed and then another
&#09; RA message is received for the same route.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230604"
target="_top">r230604</a>]</p>

<p>A bug which could return an incorrect &#09; value for the <tt
class="literal">IPV6_MULTICASE_HOPS</tt> socket option &#09; has been fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=227885"
target="_top">r227885</a>]</p>

<p>A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=3&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a> name
&#09; <tt class="literal">NET_RT_IFLISTL</tt> has been added. This &#09; queries the
address list and works on extended and &#09; extensible structures <code
class="varname">if_msghdrl</code> and &#09; <code class="varname">ifa_msghdrl</code>
without breaking the &#09; ABI.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231768"
target="_top">r231768</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=netmap&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">netmap</span>(4)</span></a> fast
packet &#09; I/O framework has been added. The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">em</span>(4)</span></a>, lem(4), &#09;
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=igb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">igb</span>(4)</span></a>, and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=re&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">re</span>(4)</span></a> drivers now
support this &#09; framework. The technical details can be found at <a
href="http://info.iet.unipi.it/~luigi/netmap/"
target="_top">http://info.iet.unipi.it/~luigi/netmap/</a>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231650"
target="_top">r231650</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235527"
target="_top">r235527</a>]</p>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sctp&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sctp</span>(4)</span></a> protocol
stack now &#09; supports a new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">net.inet.sctp.blackhole</code>. If this is set &#09;
to <tt class="literal">1</tt>, no <tt class="literal">ABORT</tt> is sent &#09; back in
response to an incoming <tt class="literal">INIT</tt>. If &#09; this is set to <tt
class="literal">2</tt>, no &#09; <tt class="literal">ABORT</tt> is sent back in response
to an &#09; out-of-the-blue packet. If set to <tt class="literal">0</tt> &#09; (the
default), <tt class="literal">ABORT</tt>s are sent.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231045"
target="_top">r231045</a>]</p>

<p>A bug which could cause a system panic &#09; when <tt
class="literal">SCTP_RECVINFO</tt> or &#09; <tt class="literal">SCTP_NXTINFO</tt> is
specified to the &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=getsockopt&sektion=2&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">getsockopt</span>(2)</span></a>
system call has been fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231049"
target="_top">r231049</a>]</p>

<p>The FreeBSD <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sctp&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sctp</span>(4)</span></a> protocol
stack now &#09; supports the <tt class="literal">SCTP_REMOTE_UDP_ENCAPS_PORT</tt> &#09;
socket option.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231070"
target="_top">r231070</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231140"
target="_top">r231140</a>]</p>

<p>The <tt class="literal">SO_PROTOCOL</tt> and &#09; <tt
class="literal">SO_PROTOTYPE</tt> socket options have been &#09; added. These return the
socket protocol number.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232805"
target="_top">r232805</a>]</p>

<p>The <tt class="literal">TCP_KEEPINIT</tt>, &#09; <tt
class="literal">TCP_KEEPIDLE</tt>, &#09; <tt class="literal">TCP_KEEPINTVL</tt>, and
&#09; <tt class="literal">TCP_KEEPCNT</tt> socket options have been &#09; added. These
allow controlling initial timeout, idle time, &#09; idle resend interval, and idle send
count on a per-socket &#09; basis.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232945"
target="_top">r232945</a>]</p>
</div>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="disks" name="disks">2.2.4 Disks and Storage</a></h4>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=arcmsr&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">arcmsr</span>(4)</span></a> driver
has been &#09; updated to version 1.20.00.25.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=240758"
target="_top">r240758</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ahci&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ahci</span>(4)</span></a> driver
now supports a &#09; new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
tunable <code class="varname">hw.ahci.force</code>. &#09; This controls whether it
attempts to attach an AHCI-capable &#09; device even if it is configured to use legacy
emulation. &#09; This is enabled by default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229291"
target="_top">r229291</a>]</p>

<p>The new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a>-based <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ata</span>(4)</span></a> &#09;
driver now supports old <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
tunables &#09; <code class="varname">hw.ata.ata_dma</code> and &#09; <code
class="varname">hw.ata.atapi_dma</code>, for backward &#09; compatibility.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231251"
target="_top">r231251</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a> driver
now supports &#09; SEMB (SATA Enclosure Management Bridge) devices, which are &#09;
equivalent to the SCSI SES/SAF-TE devices.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236778"
target="_top">r236778</a>]</p>

<p>A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">kern.cam.pmp.hide_special</code> has been added.
&#09; This controls whether special PMP ports such as PMP (Port &#09; MultiPlier)
configuration or SEMB (SATA Enclosure Management &#09; Bridge) will be exposed or hidden.
The default value is &#09; <tt class="literal">1</tt> (hidden).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236765"
target="_top">r236765</a>]</p>

<p>The ctl(4) driver, which supports &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a> Target
Layer and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ctladm&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ctladm</span>(8)</span></a>, a
userland &#09; control utility, have been added. ctl(4) is a disk and &#09; processor
device emulation subsystem supporting tagged &#09; queuing, SCSI task attribute, SCSI
implicit command &#09; ordering, full task management, multiple ports, multiple &#09;
simultaneous initiators, multiple simultaneous backing &#09; stores, mode sense/select,
and error injection &#09; support.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231772"
target="_top">r231772</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cd&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">cd</span>(4)</span></a> driver now
supports &#09; Audio CDs in the same way as <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acd&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">acd</span>(4)</span></a> did. It
will &#09; report a 2352-byte sector size to the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a>
subsystem and use &#09; the <tt class="literal">READ CD</tt> command for reading the
data. &#09; This fixes an interoperability issue with <a
href="http://svnweb.FreeBSD.org/ports/head/multimedia/vlc/pkg-descr?revision=HEAD"><tt
class="filename">multimedia/vlc</tt></a>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230014"
target="_top">r230014</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=da&sektion=4&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry"><span class="refentrytitle">da</span>(4)</span></a> driver now
supports &#09; <tt class="literal">BIO_DELETE</tt>. To select the method, a new &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">kern.cam.da.<tt
class="replaceable"><i>N</i></tt>.delete_method</code> &#09; has been added for each
device instance. The following &#09; values are supported:[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236677"
target="_top">r236677</a>]</p>

<div class="informaltable"><a id="AEN632" name="AEN632"></a>
<table border="0" frame="void" width="100%" class="CALSTABLE">
<col />
<col />
<thead>
<tr>
<th>Value</th>
<th>Method</th>
</tr>
</thead>

<tbody>
<tr>
<td>NONE</td>
<td>no provisioning support reported by the device</td>
</tr>

<tr>
<td>DISABLE</td>
<td>provisioning support was disabled because of errors</td>
</tr>

<tr>
<td>ZERO</td>
<td>WRITE SAME (10) command to write zeroes</td>
</tr>

<tr>
<td>WS10</td>
<td>WRITE SAME (10) command with UNMAP bit set</td>
</tr>

<tr>
<td>WS16</td>
<td>use WRITE SAME (16) command with UNMAP bit set</td>
</tr>

<tr>
<td>UNMAP</td>
<td>use UNMAP command (equivalent of the ATA DSM TRIM command)</td>
</tr>
</tbody>
</table>
</div>

<p>When it was <tt class="literal">NONE</tt>, the device did not &#09; report logical
block provisioning support via respective &#09; VPD pages. One can set a specific method
for testing and it &#09; will be disabled automatically when not supported on the &#09;
device.</p>

<p>The <b class="application">MIRROR</b> &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
now supports &#09; <tt class="literal">BIO_DELETE</tt>. This means the &#09; <tt
class="literal">TRIM</tt> command will be issued on &#09; supported devices when deleting
data.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=238500"
target="_top">r238500</a>]</p>

<p>The &#09; <b class="application">MULTIPATH</b> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
has &#09; been updated. It now supports Active/Active mode, &#09; Active/Read mode as
hybrid of Active/Active and &#09; Active/Passive, keeping a failed path without removing
the &#09; geom provider, manual configuration without on-disk &#09; metadata, and <tt
class="command">add</tt>, &#09; <tt class="command">remove</tt>, <tt
class="command">fail</tt>, &#09; <tt class="command">restore</tt>, <tt
class="command">configure</tt> &#09; subcommands in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gmultipath&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">gmultipath</span>(8)</span></a>
utility to manage the &#09; configured paths.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229303"
target="_top">r229303</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234916"
target="_top">r234916</a>]</p>

<p>The &#09; <b class="application">PART_LDM</b> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
has &#09; been added. This partition scheme has support for Logical Disk &#09; Manager,
which is also known as dynamic volumes in Microsoft &#09; Windows NT. Note that JBOD,
RAID0, and RAID5 volumes are &#09; not supported yet.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234406"
target="_top">r234406</a>]</p>

<p>The <b class="application">PART_MBR</b> &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
now allows a primary or extended Linux &#09; swap partition to be used as the system dump
device.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230763"
target="_top">r230763</a>]</p>

<p>[amd64, i386] The &#09; <b class="application">RAID</b> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class is
now &#09; included in the <tt class="filename">GENERIC</tt> kernel.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235877"
target="_top">r235877</a>]</p>

<p>The <b class="application">RAID</b> &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
now supports disks with over 2TB capacity &#09; for the Intel metadata format.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230244"
target="_top">r230244</a>]</p>

<p>The <b class="application">RAID</b> &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
now supports the DDF metadata format, which &#09; is defined in the SNIA Common RAID Disk
Data Format &#09; Specification v2.0.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235874"
target="_top">r235874</a>]</p>

<p>The &#09; <b class="application">UNCOMPRESS</b> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
and &#09; the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mkulzma&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mkulzma</span>(8)</span></a>
utility have been added. This class &#09; supports lzma compressed images like the &#09;
<b class="application">UZIP</b> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">geom</span>(4)</span></a> class
and the &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mkuzip&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mkuzip</span>(8)</span></a>
utility.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235483"
target="_top">r235483</a>]</p>

<p>[amd64, i386] The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hpt27xx&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hpt27xx</span>(4)</span></a> &#09;
driver has been added. This supports HighPoint RocketRAID &#09; 27xx-based SAS 6Gb/s
HBA.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229975"
target="_top">r229975</a>]</p>

<p>[amd64, i386] The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=isci&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">isci</span>(4)</span></a> &#09;
driver, which supports the integrated SAS controller in the &#09; Intel C600 (Patsburg)
chipset, has been added.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231689"
target="_top">r231689</a>]</p>

<p>Bugs in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=isp&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">isp</span>(4)</span></a> target
mode have &#09; been fixed.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230019"
target="_top">r230019</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ixgbe&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ixgbe</span>(4)</span></a> driver
now supports &#09; the Intel X540 adapter.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230775"
target="_top">r230775</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mfi</span>(4)</span></a> driver
has been &#09; fixed. It could cause some inconsistencies due to missed &#09; interrupt
acknowledgements and output the following log &#09; message:[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=227533"
target="_top">r227533</a>]</p>

<pre class="screen">
mfi0: COMMAND 0xffffffXXXXXXXXXX TIMEOUT AFTER XX SECONDS
</pre>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mfi</span>(4)</span></a> driver
now &#09; supports single-message MSI, and Drake Skinny and &#09; Thunderbolt cards. The
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
tunable &#09; <code class="varname">hw.mfi.msi</code> has been added and it is &#09;
enabled by default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229611"
target="_top">r229611</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234429"
target="_top">r234429</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mps&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mps</span>(4)</span></a> driver
&#09; has been updated to version 14.00.00.01-fbsd. This now &#09; supports Integrated
RAID, WarpDrive controllers, WRITE12 and &#09; READ12 for direct I/O, SCSI protection
information (EEDP), &#09; Transport Level Retries (TLR) for tape drives, and LSI's &#09;
userland utility.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230920"
target="_top">r230920</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231679"
target="_top">r231679</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237876"
target="_top">r237876</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mpt&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mpt</span>(4)</span></a> driver
has &#09; been fixed. It could attempt to attach MegaRAID cards which &#09; should be
handled by the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">mfi</span>(4)</span></a>
driver.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232562"
target="_top">r232562</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=usb&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">usb</span>(4)</span></a> storage
device driver &#09; now enables power save mode by default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229107"
target="_top">r229107</a>]</p>
</div>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="fs" name="fs">2.2.5 File Systems</a></h4>

<p>The FreeBSD NFS filesystem has been improved:</p>

<ul>
<li>
<p>It now supports a timeout on &#09; positive name cache entries on the client side. A
new &#09; mount option <code class="varname">nametimeo</code> has been added &#09; and
set to <tt class="literal">60</tt> (in seconds) by &#09; default.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233326"
target="_top">r233326</a>]</p>
</li>

<li>
<p>A memory leak when a ZFS volume is &#09; exported via the FreeBSD NFS server has been
fixed.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234740"
target="_top">r234740</a>]</p>
</li>

<li>
<p>A bug has been fixed. When a &#09; process writes to an mmap-backed file on an NFS
&#09; filesystem, flushing changes to the data could fail &#09; under some circumstances
such as errors due to &#09; permission mismatch, and this failure could not be detected
&#09; as an error. A new <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">vfs.nfs.nfs_keep_dirty_on_error</code> has &#09;
been added to control the behavior on the client side &#09; related to this issue. When
this is set to &#09; <tt class="literal">1</tt>, the pages where a write operation &#09;
failed are kept dirty. The default value is set to &#09; <tt class="literal">0</tt>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233730"
target="_top">r233730</a>]</p>
</li>

<li>
<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=nfsv4&sektion=4&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">nfsv4</span>(4)</span></a>
filesystem now &#09; supports a <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">vfs.nfsd.disable_checkutf8</code>. This &#09;
disables the check for UTF-8 compliance in &#09; filenames. This is disabled by default.
Note that &#09; enabling this may help wht some interoperability issues but &#09; results
in an NFSv4 server that is not RFC 3530 &#09; compliant.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229799"
target="_top">r229799</a>]</p>
</li>
</ul>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tmpfs&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">tmpfs</span>(5)</span></a>
filesystem is not an &#09; experimental implementation anymore.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234511"
target="_top">r234511</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tmpfs&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">tmpfs</span>(5)</span></a>
filesystem now &#09; supports a <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">vfs.tmpfs.memory_reserved</code> to set the amount
&#09; of required free pages when <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tmpfs&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">tmpfs</span>(5)</span></a>
attempts to &#09; allocate a new node.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234849"
target="_top">r234849</a>]</p>

<p>FreeBSD's ZFS filesystem has been &#09; updated by merging improvements from the
illumos project. The &#09; following changes are made:[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229578"
target="_top">r229578</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232328"
target="_top">r232328</a>]</p>

<ul>
<li>
<p>New properties, <tt class="literal">clones</tt> and &#09; <tt
class="literal">written</tt>, have been added.</p>
</li>

<li>
<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">zfs</span>(8)</span></a> <tt
class="command">send</tt> command &#09; now reports an estimated size of the stream.</p>
</li>

<li>
<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">zfs</span>(8)</span></a> <tt
class="command">destroy</tt> command &#09; now reports an estimate of the space which
would be reclaimed, &#09; when <code class="option">-n</code> is specified.</p>
</li>

<li>
<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">zfs</span>(8)</span></a> <tt
class="command">get</tt> command now &#09; supports the <code class="option">-t <tt
class="replaceable"><i>type</i></tt></code> &#09; flag to specify the data type.</p>
</li>
</ul>

<p>A simple script &#09; <tt class="filename">zfsboottest.sh</tt> has been added to the
&#09; source tree. This checks if the system is configured &#09; correctly when using ZFS
as the root filesystem. The script &#09; is located at &#09; <tt
class="filename">/usr/src/tools/tools/zfsboottest.sh</tt> and &#09; it uses the <tt
class="filename">zfsboottest</tt> binary program in the &#09; same directory.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=227705"
target="_top">r227705</a>]</p>

<p>The binary program can be built and installed by the &#09; following command:</p>

<pre class="screen">
<samp class="prompt">#</samp> cd /usr/src/tools/tools/zfsboottest
<samp class="prompt">#</samp> make
<samp class="prompt">#</samp> make install
</pre>

<p>After that, the following command can be used to check the &#09; system. <tt
class="replaceable"><i>poolname</i></tt> is the ZFS &#09; storage pool name to boot:</p>

<pre class="screen">
<samp class="prompt">#</samp> sh /usr/src/tools/tools/zfsboottest/zfsboottest.sh <tt
class="replaceable"><i>poolname</i></tt>
</pre>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable &#09; <code class="varname">vfs.zfs.txg.timeout</code> has been changed from
&#09; read-only to writable.</p>
</div>
</div>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="userland" name="userland">2.3 Userland Changes</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=auth.conf&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">auth.conf</span>(5)</span></a> has
been removed &#09;because it was deprecated years ago.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=238481"
target="_top">r238481</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">camcontrol</span>(8)</span></a>
utility now &#09;supports a <tt class="command">fwdownload</tt> subcommand for firmware
&#09;update on SCSI devices from Hitachi, HP, IBM, Plextor, &#09;Quantum, and Seagate.
This subcommand will reprogram the &#09;firmware on devices connected over an ATA/SATA
transport.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237740"
target="_top">r237740</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>
utility now &#09;supports <tt class="literal">domain-search</tt> (option number 119,
&#09;described in RFC 3397). This allows a DHCP server to publish &#09;a list of implicit
domain suffixes used during name lookup. &#09;If this option is specified, a <tt
class="literal">search</tt> &#09;keyword will be added to &#09;<tt
class="filename">/etc/resolv.conf</tt>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230597"
target="_top">r230597</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> utility
now uses 53 &#09;characters for the device names in &#09;<tt
class="filename">/etc/dumpdates</tt>. This was previously limited to 32
&#09;characters.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230047"
target="_top">r230047</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">fetch</span>(1)</span></a> utility
now correctly &#09;supports a percent-encoded user and password part in a &#09;URL.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235253"
target="_top">r235253</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fdlopen&sektion=3&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">fdlopen</span>(3)</span></a>
function has been &#09;implemented. This is an interface for <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">rtld</span>(1)</span></a> to load
a &#09;shared object by file descriptor.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230410"
target="_top">r230410</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fopen&sektion=3&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">fopen</span>(3)</span></a>
function now supports &#09;the <code class="option">x</code> (an exclusive
create-and-open mode) option &#09;in the ISO/IEC 9899:2011 and C11 standards.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229845"
target="_top">r229845</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gcc&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">gcc</span>(1)</span></a> compiler
has &#09;been fixed. It could lead to incorrect calculations when &#09;<code
class="option">-ffast-math</code> is specified.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234023"
target="_top">r234023</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hastd&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hastd</span>(8)</span></a> daemon
now supports specifying the filename of its process ID file in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hast.conf&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">hast.conf</span>(5)</span></a>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229509"
target="_top">r229509</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>
utility now &#09;supports a <tt class="literal">vlanhwcsum</tt> parameter to set or
&#09;reset checksum offloading capability on VLANs.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231221"
target="_top">r231221</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>
utility &#09;which could display an error message in a jail with no IPv6 &#09;support has
been fixed.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=238872"
target="_top">r238872</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>
utility now &#09;supports a <tt class="literal">carp state <tt
class="replaceable"><i>state</i></tt></tt> &#09;parameter to set &#09;the state to <tt
class="literal">backup</tt> or &#09;<tt class="literal">master</tt> forcibly.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232486"
target="_top">r232486</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">jail</span>(8)</span></a> utility
now supports a &#09;configuration file (<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=jail.conf&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">jail.conf</span>(5)</span></a>)
for complex &#09;configurations.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235839"
target="_top">r235839</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kdump&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">kdump</span>(1)</span></a> utility
now supports a &#09;<code class="option">-p <tt
class="replaceable"><i>pid</i></tt></code> option to &#09;accept either a process ID or a
thread ID.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237789"
target="_top">r237789</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kenv&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">kenv</span>(1)</span></a> utility
now supports a &#09;<code class="option">-v</code> flag to display an entry in &#09;<tt
class="literal">name=value</tt> format, and a <code class="option">-N</code> &#09;flag to
display only the name.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236118"
target="_top">r236118</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a>
utility now supports a &#09;<code class="option">-n</code> flag to ignore the error
status when the &#09;specified module is already loaded.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233560"
target="_top">r233560</a>]</p>

<p><b class="application">libedit</b> has &#09;been updated to a NetBSD snapshot as of 28
December, &#09;2009.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237738"
target="_top">r237738</a>]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=libmap.conf&sektion=5&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">libmap.conf</span>(5)</span></a>
now supports &#09;<tt class="literal">include</tt> and <tt
class="literal">includedir</tt> &#09;directives. They allow to include specified files
for the &#09;configuration.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236523"
target="_top">r236523</a>]</p>

<p>Lock handling performance in the &#09;<b class="application">libthr</b> pthread
library has been &#09;improved. It now works 10 times faster especially under the
&#09;condition that a mutex is heavily contested.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234372"
target="_top">r234372</a>]</p>

<p>A new C++ stack has been imported. This &#09;consists of <b
class="application">libcxxrt</b>, originally &#09;developed by a FreeBSD developer under
contract by PathScale and &#09;open sourced by the FreeBSD and NetBSD foundations, and
&#09;<b class="application">libc++</b> from the LLVM project. &#09;<b
class="application">libcxxrt</b> is a drop-in replacement &#09;for GNU <b
class="application">libsupc++</b>, which implements &#09;the C++ runtime support for
features such as run-time type &#09;information, dynamic casting, thread-safe static
initializer, &#09;and exceptions. <b class="application">libc++</b> implements &#09;the
C++11 standard library, and will replace GNU &#09;<b class="application">libstdc++</b> in
a future release. In &#09;9.1-RELEASE, <b class="application">libstdc++</b> is still
&#09;installed as standard and now dynamically links against &#09;<b
class="application">libsupc++</b>. This allows libraries &#09;linking <b
class="application">libstdc++</b> and &#09;<b class="application">libc++</b> to both be
used in the same &#09;program, to aid migration.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235798"
target="_top">r235798</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=limits&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">limits</span>(1)</span></a>
utility now supports &#09;a <code class="option">-P <tt
class="replaceable"><i>pid</i></tt></code> option to &#09;control limits for the
specified process.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230919"
target="_top">r230919</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">pciconf</span>(8)</span></a>
utility now supports a &#09;<code class="option">-e</code> flag to display PCI error
details in &#09;listing mode. When this is specified, the status of any error &#09;bits
in the PCI status register and PCI-express device status &#09;register will be displayed.
It also lists any errors &#09;indicated by version 1 of PCI-express Advanced Error
Reporting &#09;(AER).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237731"
target="_top">r237731</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=procstat&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">procstat</span>(1)</span></a>
utility now shows the &#09;superpage mapping flag when displaying process virtual memory
&#09;mappings.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229710"
target="_top">r229710</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=procstat&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">procstat</span>(1)</span></a>
utility now &#09;supports an <code class="option">-e</code> flag to display process
&#09;environment variables, an <code class="option">-x</code> flag to display &#09;ELF
auxiliary vectors, and an <code class="option">-l</code> flag to &#09;display resource
limits.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230917"
target="_top">r230917</a>, <a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230918"
target="_top">r230918</a>]</p>

<p>A bug in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=remquo&sektion=3&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">remquo</span>(3)</span></a>
functions &#09;where the quotient did not always have the correct sign when &#09;the
remainder was <tt class="literal">0</tt>, and another bug that &#09;the remainder and
quotient were both off by a bit in certain &#09;cases involving subnormal remainders,
have been fixed. Note &#09;that these bugs affected all platforms except amd64 and
&#09;i386.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234535"
target="_top">r234535</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">rtld</span>(1)</span></a> run-time
linker now &#09;supports GCC's RELRO (RElocation Read-Only). This prevents the &#09;GOT
(Global Offset Table) from being overwritten.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231579"
target="_top">r231579</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">rtld</span>(1)</span></a> run-time
linker now &#09;supports a GNU hash section (<tt class="literal">DT_GNU_HASH</tt>),
&#09;which is a replacement of optional ELF hash section.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235396"
target="_top">r235396</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=setbuf&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">setbuf</span>(1)</span></a>
utility and &#09;<b class="application">libstdbuf</b> library have been added. &#09;This
controls the default buffering behavior of standard &#09;stdio streams.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235139"
target="_top">r235139</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=top&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> utility
now correctly &#09;supports per-thread I/O statistics of ZFS in the <code
class="option">-m &#09;io</code> option.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=227702"
target="_top">r227702</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=unzip&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">unzip</span>(1)</span></a> utility
now supports a &#09;<code class="option">-Z</code> option for zipinfo.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234330"
target="_top">r234330</a>]</p>

<p>The <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xlocale&sektion=3&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">xlocale</span>(3)</span></a> API
has been &#09;implemented. This consists of <tt class="literal">_l</tt>-suffixed
&#09;versions of various standard library functions that use the &#09;global locale,
making them take an explicit locale parameter &#09;and allowing thread-safe extended
locale support. Most of &#09;these APIs are required for IEEE Std 1003.1-2008
(POSIX.1-2008 &#09;or ISO/IEC 9945:2009) compatibility, and are required by &#09;<b
class="application">libc++</b> and recent versions of &#09;<b
class="application">GNOME</b>. This implementation also &#09;supports several extensions
for compatibility with Apple &#09;<b class="application">Darwin</b>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235785"
target="_top">r235785</a>]</p>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="periodic-scripts" name="periodic-scripts">2.3.1 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry">periodic(8)</span></a> Scripts</a></h4>

<p>A new variable &#09; <code class="varname">daily_status_zfs_zpool_list_enable</code>
has &#09; been added. It controls whether or not to list all of the ZFS &#09; pools in
<tt class="filename">periodic/daily/404.status-zfs</tt>. &#09; The default value is <tt
class="literal">YES</tt>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=231721"
target="_top">r231721</a>]</p>

<p>The default value of &#09; <code
class="varname">daily_scrub_zfs_default_threshold</code> used in &#09; <tt
class="filename">periodic/daily/800.scrub-zfs</tt> is now set &#09; to 35 days.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229381"
target="_top">r229381</a>]</p>
</div>

<div class="sect3">
<hr />
<h4 class="sect3"><a id="rc-scripts" name="rc-scripts">2.3.2 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=FreeBSD+9.1-RELEASE"><span
 class="citerefentry">rc(8)</span></a> Scripts</a></h4>

<p>The <tt class="filename">rc.d/nfsd</tt> script &#09; now sets the <code
class="varname">vfs.nfsd.server_max_nfsvers</code> &#09; <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
variable to <tt class="literal">4</tt> when &#09; <code
class="varname">nfsv4_server_enable</code> is set to &#09; <tt
class="literal">YES</tt>.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=227607"
target="_top">r227607</a>]</p>

<p>A backwards compatibility issue when &#09; both <tt
class="literal">ipv6_enable=YES</tt> and &#09; <tt
class="literal">ipv6_gateway_enable=YES</tt> are defined at &#09; the same time has been
fixed.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=242189"
target="_top">r242189</a>]</p>
</div>
</div>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="contrib" name="contrib">2.4 Contributed Software</a></h3>

<p><b class="application">ISC BIND</b> has &#09;been updated to version 9.8.3-P4.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=241417"
target="_top">r241417</a>]</p>

<p>The &#09;<b class="application">compiler-rt</b> library, which provides &#09;low-level
target-specific interfaces such as functions in &#09;<b class="application">libgcc</b>,
has been updated to &#09;revision 147467.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236018"
target="_top">r236018</a>]</p>

<p><b class="application">file</b> &#09;(<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=file&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">file</span>(1)</span></a>) has
been updated to version 5.11.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237983"
target="_top">r237983</a>]</p>

<p>GNU <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gperf&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">gperf</span>(1)</span></a> has
been updated to &#09;version 3.0.3 (the latest GPLv2-licensed version).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=230237"
target="_top">r230237</a>]</p>

<p><b class="application">libarchive</b>, &#09;<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdtar&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">bsdtar</span>(1)</span></a>, and
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a> have
been updated to version &#09;2.8.5.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229588"
target="_top">r229588</a>]</p>

<p>The <b class="application">libpcap</b> &#09;library has been updated to 1.2.1.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236167"
target="_top">r236167</a>]</p>

<p><b class="application">libstdc++</b> &#09;has been updated to revision 135556 of the
&#09;<tt class="literal">gcc-4_2-branch</tt> (the last LGPLv2-licensed &#09;version).[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=229551"
target="_top">r229551</a>]</p>

<p>The <b class="application">LLVM</b> &#09;compiler infrastructure and <b
class="application">clang</b>, &#09;a C language family front-end, version 3.1 have been
imported. &#09;Note that it is not used for building the FreeBSD base system by
&#09;default.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236144"
target="_top">r236144</a>]</p>

<p>The <tt class="literal">netcat</tt> utility &#09;has been updated to version 5.1.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=235971"
target="_top">r235971</a>]</p>

<p><b class="application">OpenSSL</b> has &#09;been updated to version 0.9.8x.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237998"
target="_top">r237998</a>]</p>

<p>The <b class="application">tcpdump</b> &#09;(<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tcpdump&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">tcpdump</span>(1)</span></a>)
utility has been updated to version 4.2.1.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=236192"
target="_top">r236192</a>]</p>

<p>The <b class="application">TENEX C &#09;shell</b> (<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tcsh&sektion=1&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a>) has
been updated to version &#09;6.18.01.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=232633"
target="_top">r232633</a>]</p>

<p>The <b class="application">timezone</b> &#09;database has been updated to the &#09;<b
class="application">tzdata2012a</b> release.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=233447"
target="_top">r233447</a>]</p>

<p>The <b class="application">zlib</b> &#09;library has been updated to version 1.2.7.[<a
href="http://svn.freebsd.org/viewvc/base?view=revision&revision=237691"
target="_top">r237691</a>]</p>
</div>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="releng" name="releng">2.5 Release Engineering and
Integration</a></h3>

<p>The supported version of the &#09;<b class="application">KDE</b> desktop environment
(<a href="http://svnweb.FreeBSD.org/ports/head/x11/kde4/pkg-descr?revision=HEAD"><tt
class="filename">x11/kde4</tt></a>) has been updated to &#09;4.8.4.</p>

<p>[powerpc] Issues where the FreeBSD &#09;installation CDROM image caused a panic, and
was not &#09;recognized on OpenBIOS-based environments like QEMU, have been
&#09;fixed.[<a href="http://svn.freebsd.org/viewvc/base?view=revision&revision=234055"
target="_top">r234055</a>]</p>
</div>
</div>

<div class="sect1">
<hr />
<h2 class="sect1"><a id="upgrade" name="upgrade">3 Upgrading from previous releases of
FreeBSD</a></h2>

<div class="sect2">
<h3 class="sect2"><a id="AEN1113" name="AEN1113">3.1 Upgrading using <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry">freebsd-update(8)</span></a> or a source-based
&#09;procedure</a></h3>

<p>[amd64, i386] Beginning with FreeBSD 6.2-RELEASE, binary &#09;upgrades between RELEASE
versions (and snapshots of the &#09;various security branches) are supported using the
&#09;<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span
class="refentrytitle">freebsd-update</span>(8)</span></a> utility. The binary upgrade
procedure &#09;will update unmodified userland utilities, as well as an &#09;unmodified
<tt class="filename">GENERIC</tt> kernel, distributed as &#09;a part of an official
FreeBSD release. The &#09;<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+9.1-RELEASE">
<span class="citerefentry"><span
class="refentrytitle">freebsd-update</span>(8)</span></a> utility requires that the host
being &#09;upgraded have Internet connectivity.</p>

<p>Source-based upgrades (those based on recompiling the FreeBSD &#09;base system from
source code) from previous versions are &#09;supported using to the instructions in
&#09;<tt class="filename">/usr/src/UPDATING</tt>.</p>

<p>For more specific information about upgrading &#09;instructions, see <a
href="http://www.FreeBSD.org/releases/9.1R/installation.html"
target="_top">http://www.FreeBSD.org/releases/9.1R/installation.html</a>.</p>

<div class="important">
<blockquote class="important">
<p><b>Important:</b> Upgrading FreeBSD should, of course, only be attempted &#09; after
backing up <span class="emphasis"><i class="emphasis">all</i></span> data and &#09;
configuration files.</p>
</blockquote>
</div>
</div>

<div class="sect2">
<hr />
<h3 class="sect2"><a id="AEN1133" name="AEN1133">3.2 User-visible
incompatibilities</a></h3>

<p>FreeBSD 9.0 and later have several incompatibilities in &#09;system configuration
which you might want to know before &#09;upgrading your system. <span class="emphasis"><i
class="emphasis">Please read this section and &#09;the <a
href="http://www.freebsd.org/releases/9.0R/relnotes-detailed.html#UPGRADE"
target="_top">Upgrading &#09;Section in 9.0-RELEASE Release Notes</a> carefully before
&#09;submitting a problem report and/or posting a question to the &#09;FreeBSD mailing
lists.</i></span></p>
</div>
</div>
</div>

<hr />
<p align="center"><small>This file, and other release-related documents, can be
downloaded from <a
href="http://www.FreeBSD.org/releases/">http://www.FreeBSD.org/releases/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.</small></p>

<p align="center"><small>All users of FreeBSD 9.1-STABLE should subscribe to the &#60;<a
href="mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62; mailing list.</small></p>

<p align="center"><small>For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

